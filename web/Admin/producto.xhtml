<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Producto</title>
    </h:head>
   <h:body>
       <ui:include src="menu.xhtml" />       
		<div class="container">
			<h1>Productos</h1>
			<div class="row">
				<div class="col-sm-4">
					<h:form id="fmrProductos" enctype="multipart/form-data">
						<label>Nombre</label>
						<h:inputText  class="form-control input-sm" id="nombre" />
                                                <label>Categoria</label>
                                                 <div class="row">
							<div class="col-sm-6">                                                        
                                                        <h:selectOneMenu class="form-control input-sm" id="idCategoria" value="#{mbcategoria.categoria.categoriaCod}">
                                                        <f:selectItem itemLabel="-Seleccione Categoria-"/>
                                                        <f:selectItems value="#{mbcategoria.listCategoria}"/>
                                                        </h:selectOneMenu>	
                                                        </div>
                                                        <div class="col-sm-6">
                                                            <b:button  class="btn btn-default btn-sm" href="categoria.xhtml" value="Nueva Categoria"/>
							</div>
                                                 </div>  
                                                					
						<label>Marcas</label>                                                
                                                    <div class="row">
							<div class="col-sm-6"> 
                                                            <h:selectOneMenu class="form-control input-sm" id="idMarca" value="#{mbmarca.marca.marcaCod}">
                                                                    <f:selectItem itemLabel="-Seleccione Marca-"/>
                                                                    <f:selectItems value="#{mbmarca.listMarca}"/>
                                                                </h:selectOneMenu>
                                                        </div>
							<div class="col-sm-6">
                                                            <b:button id="btnNuevaMarca" href="marca.xhtml" class="btn btn-default btn-sm" value="Nueva Marca"/>
								</div>
                                                    </div>  
						<p></p>
                                                <label>Precio</label>
						<h:inputText class="form-control input-sm" id="precio"/>
							
						<label>Garantia</label>
						<h:inputText  class="form-control input-sm" id="garantia" />
						<label>Bodega</label>
						<p></p>
						<label  class="btn btn-default btn-block " data-toggle="modal" data-target="#enStock">Bodegas 
							<span class= "glyphicon glyphicon-import"></span>
						</label>
						<p></p>
						<label>Imagen</label>
                                                
                                                <h:inputFile value="#{mbproducto.file}"/>                                               
                                                
						<br></br>                                                        
                                                <h:commandButton action="#{mbproducto.nuevoProducto()}" class="btn btn-primary" value="Guardar Nuevo Producto"/>
                                                       
                                        </h:form>
							</div>
							<div class="col-sm-8">
                                                            <div id="tablaProductos">
                                                                <b:dataTable value="#{mbproducto.productos}" var="prod">
                                                                    <b:dataTableColumn value="#{prod.productoNombre}">
                                                                      <f:facet name="header">
                                                                            <ul style="margin-bottom:0;list-style-type:none;padding-left:0">
                                                                            <li>Nombre</li>
                                                                            </ul>
                                                                      </f:facet></b:dataTableColumn>
                                                                    <b:dataTableColumn  value="#{prod.categoria.categoriaDescripcion}">
                                                                      <f:facet name="header">
                                                                            <ul style="margin-bottom:0;list-style-type:none;padding-left:0">
                                                                            <li>Categoria</li>
                                                                            </ul>
                                                                      </f:facet>
                                                                    </b:dataTableColumn>
                                                                    <b:dataTableColumn value="#{prod.marca.nombre}">
                                                                      <f:facet name="header">
                                                                            <ul style="margin-bottom:0;list-style-type:none;padding-left:0">
                                                                            <li>Marca</li>
                                                                            </ul>
                                                                      </f:facet>
                                                                       
                                                                      </b:dataTableColumn>
                                                                    <b:dataTableColumn value="#{prod.productoGarantia}">
                                                                      <f:facet name="header">
                                                                            <ul style="margin-bottom:0;list-style-type:none;padding-left:0">
                                                                            <li>Garantia</li>
                                                                            </ul>
                                                                      </f:facet>
                                                                      </b:dataTableColumn>
                                                                    <b:dataTableColumn style="width:100px; height:60px; background-image: url('../#{prod.productoImagen}'); background-repeat:no-repeat; background-size:contain;background-position: center center;" >
                                                                      <f:facet name="header">
                                                                            <ul style="margin-bottom:0;list-style-type:none;padding-left:0">
                                                                            <li>Imagen</li>
                                                                            </ul>
                                                                      </f:facet>
                                                                    </b:dataTableColumn>
                                                                </b:dataTable>
                                                            </div>
							</div>
						</div>
					</div>
   </h:body>
</html>