--Nombre de entidades: todo mayuscula, separado por guion bajo (si fuese necesario) : NOMBRETABLA
--Nombre de atributos: todo mayuscula, separado por guion bajo: NOMBRETABLA_ATRIBUTO

-- -----------------------------------------------------
-- Table PAIS
-- -----------------------------------------------------
CREATE TABLE PAIS (
  PAIS_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  PAIS_NOMBRE VARCHAR2(45) NULL,
  PRIMARY KEY (PAIS_COD));
commit;


-- -----------------------------------------------------
-- Table BODEGA
-- -----------------------------------------------------
CREATE TABLE BODEGA (
  BODEGA_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  BODEGA_NOMBRE VARCHAR2(45) NULL,
  BODEGA_DIRECCION VARCHAR2(45) NULL,
  BODEGA_TELEFONO VARCHAR2(45) NULL,
  BODEGA_PAIS_COD NUMBER(10) NOT NULL,
  PRIMARY KEY (BODEGA_COD),
  CONSTRAINT fk_BODEGA_PAIS
    FOREIGN KEY (BODEGA_PAIS_COD)
    REFERENCES PAIS (PAIS_COD));
commit;


-- -----------------------------------------------------
-- Table SUCURSAL
-- -----------------------------------------------------
CREATE TABLE SUCURSAL (
  SUCURSAL_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  SUCURSAL_NOMBRE VARCHAR2(45) NULL,
  SUCURSAL_DIRECCION VARCHAR2(45) NULL,
  SUCURSAL_PAIS_COD NUMBER(10) NOT NULL,
  PRIMARY KEY (SUCURSAL_COD),
  CONSTRAINT fk_SUCURSAL_PAIS
    FOREIGN KEY (SUCURSAL_PAIS_COD)
    REFERENCES PAIS (PAIS_COD));
commit;


-- -----------------------------------------------------
-- Table CLIENTE
-- -----------------------------------------------------
CREATE TABLE CLIENTE (
  CLIENTE_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  CLIENTE_NOMBRE VARCHAR2(45) NULL,
  CLIENTE_APELLIDO VARCHAR2(45) NULL,
  CLIENTE_DPI NUMBER(10) NULL,
  CLIENTE_NICK VARCHAR2(45) NULL,
  CLIENTE_PASS VARCHAR2(45) NULL,
  CLIENTE_EMAIL VARCHAR2(45) NULL,
  PRIMARY KEY (CLIENTE_COD));
commit;


-- -----------------------------------------------------
-- Table PROVEEDOR
-- -----------------------------------------------------
CREATE TABLE PROVEEDOR (
  PROVEEDOR_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  PROVEEDOR_NOMBRE VARCHAR2(45) NULL,
  PROVEEDOR_TELEFONO NUMBER(10) NULL,
  PROVEEDOR_PAIS_COD NUMBER(10) NOT NULL,
  PRIMARY KEY (PROVEEDOR_COD),
  CONSTRAINT fk_PROVEEDOR_PAIS
    FOREIGN KEY (PROVEEDOR_PAIS_COD)
    REFERENCES PAIS (PAIS_COD));
commit;


-- -----------------------------------------------------
-- Table CATEGORIA
-- -----------------------------------------------------
CREATE TABLE CATEGORIA (
  CATEGORIA_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  CATEGORIA_DESCRIPCION VARCHAR2(45) NULL,
  PRIMARY KEY (CATEGORIA_COD));
commit;


-- -----------------------------------------------------
-- Table MARCA
-- -----------------------------------------------------
CREATE TABLE MARCA (
  MARCA_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  NOMBRE VARCHAR2(45) NULL,
  PRIMARY KEY (MARCA_COD));
commit;


-- -----------------------------------------------------
-- Table PRODUCTO
-- -----------------------------------------------------
CREATE TABLE PRODUCTO (
  PRODUCTO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  PRODUCTO_NOMBRE VARCHAR2(45) NULL,
  PRODUCTO_CATEGORIA_COD NUMBER(10) NOT NULL,
  PRODUCTO_MARCA_COD NUMBER(10) NOT NULL,
  PRODUCTO_IMAGEN VARCHAR2(45) NULL,
  PRODUCTO_PRECIO FLOAT NULL,
  PRODUCTO_GARANTIA VARCHAR2(45) NULL,
  PRIMARY KEY (PRODUCTO_COD),
  CONSTRAINT fk_PRODUCTO_CATEGORIA
    FOREIGN KEY (PRODUCTO_CATEGORIA_COD)
    REFERENCES CATEGORIA (CATEGORIA_COD),
  CONSTRAINT fk_PRODUCTO_MARCA
    FOREIGN KEY (PRODUCTO_MARCA_COD)
    REFERENCES MARCA (MARCA_COD));
commit;


-- -----------------------------------------------------
-- Table PRODUCTO_BODEGA
-- -----------------------------------------------------
CREATE TABLE PRODUCTO_BODEGA (
  PB_PRODUCTO_COD NUMBER(10) NOT NULL,
  PB_BODEGA_COD NUMBER(10) NOT NULL,
  PB_CANTIDAD NUMBER(10) NULL,
  CONSTRAINT fk_PRODUCTO_BODEGA_PRODUCTO
    FOREIGN KEY (PB_PRODUCTO_COD)
    REFERENCES PRODUCTO (PRODUCTO_COD),
  CONSTRAINT fk_PRODUCTO_BODEGA_BODEGA
    FOREIGN KEY (PB_BODEGA_COD)
    REFERENCES BODEGA (BODEGA_COD));
commit;


-- -----------------------------------------------------
-- Table TIPO_EMPLEADO
-- -----------------------------------------------------
CREATE TABLE TIPO_EMPLEADO (
  TIPO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  TIPO_DESCRIPCION VARCHAR2(45) NULL,
  PRIMARY KEY (TIPO_COD));
commit;


-- -----------------------------------------------------
-- Table EMPLEADO
-- -----------------------------------------------------
CREATE TABLE EMPLEADO (
  EMPLEADO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  EMPLEADO_SUCURSAL_COD NUMBER(10) NOT NULL,
  EMPLEADO_NOMBRE VARCHAR2(45) NULL,
  EMPLEADO_APELLIDO VARCHAR2(45) NULL,
  EMPLEADO_SALARIO FLOAT NULL,
  EMPLEADO_TIPO_COD NUMBER(10) NOT NULL,
  PRIMARY KEY (EMPLEADO_COD),
  CONSTRAINT fk_EMPLEADO_TIPO_EMPLEADO
    FOREIGN KEY (EMPLEADO_TIPO_COD)
    REFERENCES TIPO_EMPLEADO (TIPO_COD));
commit;


-- -----------------------------------------------------
-- Table PEDIDO
-- -----------------------------------------------------
CREATE TABLE PEDIDO (
  PEDIDO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  PEDIDO_CLIENTE_COD NUMBER(10) NOT NULL,
  PEDIDO_EMPLEADO_COD NUMBER(10) NOT NULL,
  PEDIDO_SUCURSAL_COD NUMBER(10) NOT NULL,
  PEDIDO_FECHACOMPRA DATE NULL,
  PEDIDO_PRECIOTOTAL FLOAT NULL,
  PRIMARY KEY (PEDIDO_COD),
  CONSTRAINT fk_PEDIDO_CLIENTE
    FOREIGN KEY (PEDIDO_CLIENTE_COD)
    REFERENCES CLIENTE (CLIENTE_COD),
  CONSTRAINT fk_PEDIDO_SUCURSAL
    FOREIGN KEY (PEDIDO_SUCURSAL_COD)
    REFERENCES SUCURSAL (SUCURSAL_COD),
  CONSTRAINT fk_PEDIDO_EMPLEADO
    FOREIGN KEY (PEDIDO_EMPLEADO_COD)
    REFERENCES EMPLEADO (EMPLEADO_COD));
commit;


-- -----------------------------------------------------
-- Table DETALLE_PEDIDO
-- -----------------------------------------------------
CREATE TABLE DETALLE_PEDIDO (
  DP_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  DP_PEDIDO_COD NUMBER(10) NOT NULL,
  DP_PRODUCTO_COD NUMBER(10) NOT NULL,
  DP_CANTIDAD NUMBER(10) NULL,
  DP_GARANTIAINICIO VARCHAR2(45) NULL,
  DP_GARANTIAFINAL VARCHAR2(45) NULL,
  PRIMARY KEY (DP_COD),
  CONSTRAINT fk_DETALLE_PEDIDO_PEDIDO
    FOREIGN KEY (DP_PEDIDO_COD)
    REFERENCES PEDIDO (PEDIDO_COD),
  CONSTRAINT fk_DETALLE_PEDIDO_PRODUCTO
    FOREIGN KEY (DP_PRODUCTO_COD)
    REFERENCES PRODUCTO (PRODUCTO_COD));
commit;


-- -----------------------------------------------------
-- Table SUCURSAL_BODEGA
-- -----------------------------------------------------
CREATE TABLE SUCURSAL_BODEGA (
  SB_SUCURSAL_COD NUMBER(10) NOT NULL,
  SB_BODEGA_COD NUMBER(10) NOT NULL,
  SB_PRODUCTO_COD NUMBER(10) NOT NULL,
  SB_CANTIDAD NUMBER(10) NULL,
  CONSTRAINT fk_SUCURSAL_has_BODEGA_SUCURSAL
    FOREIGN KEY (SB_SUCURSAL_COD)
    REFERENCES SUCURSAL (SUCURSAL_COD),
  CONSTRAINT fk_SUCURSAL_has_BODEGA_BODEGA
    FOREIGN KEY (SB_BODEGA_COD)
    REFERENCES BODEGA (BODEGA_COD));
commit;


-- -----------------------------------------------------
-- Table FUNCION
-- -----------------------------------------------------
CREATE TABLE FUNCION (
  FUNCION_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  FUNCION_DESCRIPCION VARCHAR2(45) NULL,
  PRIMARY KEY (FUNCION_COD));
commit;


-- -----------------------------------------------------
-- Table USUARIO
-- -----------------------------------------------------
CREATE TABLE USUARIO (
  USUARIO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  USUARIO_FUNCION_COD NUMBER(10) NOT NULL,
  USUARIO_NOMBRE VARCHAR2(45) NULL,
  USUARIO_APELLIDO VARCHAR2(45) NULL,
  USUARIO_NICK VARCHAR2(45) NULL,
  USUARIO_PASS VARCHAR2(45) NULL,
  PRIMARY KEY (USUARIO_COD),
  CONSTRAINT fk_USUARIO_FUNCION
    FOREIGN KEY (USUARIO_FUNCION_COD)
    REFERENCES FUNCION (FUNCION_COD));
commit;


-- -----------------------------------------------------
-- Table ORDEN_COMPRA
-- -----------------------------------------------------
CREATE TABLE ORDEN_COMPRA (
  OC_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  OC_EMPLEADO_COD NUMBER(10) NOT NULL,
  OC_PROVEEDOR_COD NUMBER(10) NOT NULL,
  OC_FECHA DATE NULL,
  OC_PRECIOTOTAL FLOAT NULL,
  PRIMARY KEY (OC_COD),
  CONSTRAINT fk_ORDEN_COMPRA_EMPLEADO
    FOREIGN KEY (OC_EMPLEADO_COD)
    REFERENCES EMPLEADO (EMPLEADO_COD),
  CONSTRAINT fk_ORDEN_COMPRA_PROVEEDOR
    FOREIGN KEY (OC_PROVEEDOR_COD)
    REFERENCES PROVEEDOR (PROVEEDOR_COD));
commit;


-- -----------------------------------------------------
-- Table DETALLE_ORDEN
-- -----------------------------------------------------
CREATE TABLE DETALLE_ORDEN (
  DO_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  DO_OC_COD NUMBER(10) NOT NULL,
  DO_PRODUCTO_COD NUMBER(10) NOT NULL,
  DO_CANTIDAD NUMBER(10) NULL,
  DO_PRECIO FLOAT NULL,
  PRIMARY KEY (DO_COD),
  CONSTRAINT fk_DETALLE_ORDEN_ORDEN_COMPRA
    FOREIGN KEY (DO_OC_COD)
    REFERENCES ORDEN_COMPRA (OC_COD)),
  CONSTRAINT fk_DETALLE_ORDEN_PRODUCTO
    FOREIGN KEY (DO_PRODUCTO_COD)
    REFERENCES PRODUCTO (PRODUCTO_COD));
commit;

-- -----------------------------------------------------
-- Table PRODUCTO_PROVEEDOR
-- -----------------------------------------------------
CREATE TABLE PRODUCTO_PROVEEDOR (
  PP_PRODUCTO_COD NUMBER(10) NOT NULL,
  PP_PROVEEDOR_COD NUMBER(10) NOT NULL,
  CONSTRAINT fk_PRODUCTO_has_PROVEEDOR_PRODUCTO
    FOREIGN KEY (PP_PRODUCTO_COD)
    REFERENCES PRODUCTO (PRODUCTO_COD),
  CONSTRAINT fk_PRODUCTO_has_PROVEEDOR_PROVEEDOR
    FOREIGN KEY (PP_PROVEEDOR_COD)
    REFERENCES PROVEEDOR (PROVEEDOR_COD));
commit;



-- -----------------------------------------------------
-- Table ORDEN_INGRESO
-- -----------------------------------------------------
CREATE TABLE ORDEN_INGRESO (
  OI_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  OC_BODEGA_COD NUMBER(10) NOT NULL,
  OI_FECHAINGRESO DATE NULL,
  PRIMARY KEY (OI_COD),
  CONSTRAINT fk_ORDEN_INGRESO_BODEGA
    FOREIGN KEY (OC_BODEGA_COD)
    REFERENCES BODEGA (BODEGA_COD));
commit;


-- -----------------------------------------------------
-- Table DETALLE_INGRESO
-- -----------------------------------------------------
CREATE TABLE DETALLE_INGRESO (
  DI_COD NUMBER(10) GENERATED BY DEFAULT ON NULL AS IDENTITY,
  DI_OI_COD NUMBER(10) NOT NULL,
  DI_PRODUCTO_COD NUMBER(10) NOT NULL,
  DI_CANTIDAD NUMBER(10) NULL,
  DI_VARIACION VARCHAR2(45) NULL,
  PRIMARY KEY (DI_COD),
  CONSTRAINT fk_DETALLE_INGRESO_ORDEN_INGRESO
    FOREIGN KEY (DI_OI_COD)
    REFERENCES ORDEN_INGRESO (OI_COD),
  CONSTRAINT fk_DETALLE_INGRESO_PRODUCTO
    FOREIGN KEY (DI_PRODUCTO_COD)
    REFERENCES PRODUCTO (PRODUCTO_COD));
commit;

